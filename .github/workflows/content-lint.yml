name: Content lint

on:
    push:
        branches: [master]
    pull_request:
        branches: [master]

jobs:
    lint:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v4
            - name: Install Bun
              run: curl -fsSL https://bun.sh/install | bash
            - name: Add bun to PATH
              run: echo "PATH=$HOME/.bun/bin:$PATH" >> $GITHUB_ENV
            - name: Install dependencies
              run: bun install
            - name: Run markdown lint
              run: |
                  bun run lint:md || true
                  bun run check-links || true
                  bun run lint:prose || true
                  bun run test:mdx
